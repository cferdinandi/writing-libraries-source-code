<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<title>Modular Code</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- Styles -->
		<style type="text/css">
			body {
				max-width: 40em;
				width: 88%;
				margin-left: auto;
				margin-right: auto;
			}

			.accordion {
				display: none;
			}

			.accordion.active {
				display: block;
			}
		</style>
	</head>

	<body>

		<p><a class="accordion-toggle" href="#content-1">Show More 1</a></p>

		<div class="accordion" id="content-1">
			<p>Some content...</p>
		</div>

		<p><a class="accordion-toggle" href="#content-2">Show More 2</a></p>

		<div class="accordion" id="content-2">
			<p>Some more content...</p>
		</div>

		<p><a class="accordion-toggle" href="#content-3">Show More 3</a></p>

		<div class="accordion" id="content-3">
			<p>Even more content...</p>
		</div>


		<!-- Scripts -->
		<script>
			// Check if the target content is already active
			var isActive = function (content, toggle) {
				if ( content.classList.contains('active') ) {
					content.classList.remove('active');
					toggle.classList.remove('active');
					return true;
				}
			};

			// Close all accordions or accordion toggles
			var closeAccordions = function (selector) {
				var items = document.querySelectorAll(selector);
				for (var i = 0; i < items.length; i++) {
					items[i].classList.remove('active');
				}
			};

			// Run our accordion script
			var runAccordion = function () {
				// Only run if the clicked link was an accordion toggle
				if ( !event.target.classList.contains('accordion-toggle') ) return;

				// Get the target content
				var content = document.querySelector(event.target.hash);
				if ( !content ) return;

				// Prevent default link behavior
				event.preventDefault();

				// If the content is already expanded, collapse it and quit
				var expanded = isActive(content, event.target);
				if ( expanded ) return;

				// Close all accordion content and toggles
				closeAccordions('.accordion');
				closeAccordions('.accordion-toggle');

				// Open our target content area and toggle link
				content.classList.add('active');
				event.target.classList.add('active');
			};

			// Listen for click events
			document.addEventListener('click', runAccordion, false);
		</script>
	</body>
</html>